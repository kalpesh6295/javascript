<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dice Betting Game</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
    body { font-family: 'Arial', sans-serif; background-color: #f4f4f9; }
    .bet-option { margin: 5px; padding: 10px; border: 1px solid #ddd; border-radius: 4px; }
    .result { font-size: 1.2em; font-weight: bold; }
    .win { background-color: #d4edda; }
    .lose { background-color: #f8d7da; }
    .total { margin-top: 20px; font-size: 1.5em; }
</style>
</head>
<body>
<div class="container mt-5">
    <h1 class="text-center">Dice Betting Game</h1>
    <div id="gameArea" class="row">
        <!-- Bet options will be dynamically added here -->
    </div>
    <button id="rollDice" class="btn btn-primary mt-3">Roll Dice</button>
    <div id="results" class="mt-4"></div>
    <div id="totalOutcome" class="total text-center"></div>
</div>

<script>
document.addEventListener('DOMContentLoaded', (event) => {
    const gameArea = document.getElementById('gameArea');
    const rollDiceBtn = document.getElementById('rollDice');
    const resultsDiv = document.getElementById('results');
    const totalOutcomeDiv = document.getElementById('totalOutcome');
    let totalBet = 0;
    const maxBet = 100;

    const betOptions = {
        'sum': { range: [4, 17], odds: 36 },
        'oddEven': { options: ['Odd', 'Even'], odds: 2 },
        'highLow': { options: ['≤ 10', '> 10'], odds: 2 },
        'triplet': { range: [1, 6], odds: 216 }
    };

    // Create betting grid
    for (let type in betOptions) {
        let col = document.createElement('div');
        col.className = 'col-md-6 col-lg-3';
        betOptions[type].range ? 
            betOptions[type].range.forEach(num => createBetOption(col, type, num)) :
            betOptions[type].options.forEach(option => createBetOption(col, type, option));
        gameArea.appendChild(col);
    }

    function createBetOption(parent, type, value) {
        let div = document.createElement('div');
        div.className = 'bet-option';
        div.innerHTML = `
            <label>${value} <input type="number" class="form-control bet-input" data-type="${type}" data-value="${value}" min="0" max="${maxBet}" placeholder="Bet"></label>
        `;
        parent.appendChild(div);
    }

    // Event listener for bet inputs
    gameArea.addEventListener('input', function(e) {
        if (e.target.classList.contains('bet-input')) {
            let bet = parseInt(e.target.value) || 0;
            totalBet += bet - (parseInt(e.target.dataset.previousValue) || 0);
            e.target.dataset.previousValue = bet;
            if (totalBet > maxBet) {
                alert('Total bet cannot exceed $100');
                e.target.value = e.target.dataset.previousValue = 0;
                totalBet -= bet;
            }
        }
    });

    // Roll dice function
    rollDiceBtn.onclick = function() {
        if (totalBet === 0) {
            alert('Please place a bet.');
            return;
        }
        const dice = [rollDie(), rollDie(), rollDie()];
        const sum = dice.reduce((a, b) => a + b, 0);
        const isOdd = sum % 2 !== 0;
        const isHigh = sum > 10;
        const isTriplet = dice[0] === dice[1] && dice[1] === dice[2];
        let winnings = 0;

        resultsDiv.innerHTML = `<div class="result">Dice: ${dice.join(', ')} | Sum: ${sum}</div>`;

        document.querySelectorAll('.bet-option').forEach(option => {
            const input = option.querySelector('input');
            const bet = parseInt(input.value) || 0;
            let resultClass = 'lose';
            if (
                (option.textContent.includes(sum) && input.dataset.type === 'sum') ||
                (option.textContent.includes(isOdd ? 'Odd' : 'Even') && input.dataset.type === 'oddEven') ||
                (option.textContent.includes(isHigh ? '> 10' : '≤ 10') && input.dataset.type === 'highLow') ||
                (option.textContent.includes(` ${dice[0]} `) && input.dataset.type === 'triplet' && isTriplet)
            ) {
                resultClass = 'win';
                winnings += bet * betOptions[input.dataset.type].odds / 36;
            }
            option.classList.add(resultClass);
        });

        winnings -= totalBet;
        totalOutcomeDiv.textContent = `Net Result: ${winnings > 0 ? '+' : ''}${winnings}`;
        totalBet = 0;
    };

    function rollDie() {
        return Math.floor(Math.random() * 6) + 1;
    }
});
</script>
</body>
</html>